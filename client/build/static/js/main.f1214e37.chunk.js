(this["webpackJsonpidle-rpg-front"]=this["webpackJsonpidle-rpg-front"]||[]).push([[0],{125:function(e,t,n){},131:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),s=(n(125),n(86)),o=n(112),l=n(27),d=n(66),u=n(28),j=n(18),b=(n(131),n(174)),h=n(177),m=n(179),O=n(143),v=n(191),f=n(3),p=Object(b.a)((function(e){return{home:{height:"100%"},innerHome:{margin:"auto"},displayGrid:{margin:e.spacing(3,0,2),alignItems:"center",justifyContent:"center"},startCombat:{color:"white",textDecoration:"none"}}}));function x(){var e=p();return Object(f.jsx)(h.a,{className:"master",children:Object(f.jsx)(m.a,{container:!0,className:e.home,children:Object(f.jsx)(m.a,{container:!0,item:!0,direction:"column",alignItems:"center",className:e.innerHome,children:Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"column",xs:4,className:e.displayGrid,spacing:3,children:[Object(f.jsx)(O.a,{variant:"h5",children:"Bienvenue dans Mon Petit RPG!"}),Object(f.jsx)(v.a,{variant:"contained",color:"primary",children:Object(f.jsx)(u.b,{to:"/character-select",className:e.startCombat,children:"Commencer le combat!"})})]})})})})}var g=n(35),k=n.n(g),y=n(46),w=n(10),C=n(38),I=n(180),S=n(190),N=n(34),M=Object(a.createContext)(void 0);function P(){return Object(a.useContext)(M)}var q,A={isAuthenticated:!1,signin:function(e){A.isAuthenticated=!0,e()},signout:function(e){A.isAuthenticated=!1,e()}};var T,D=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),E=Object(N.a)(q||(q=Object(C.a)(["\n    mutation signup($user: UserInput!) {\n        signup(user: $user){\n            token\n        }\n    }\n"])));function F(){var e=D(),t=Object(a.useState)(),n=Object(w.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(),s=Object(w.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)(),b=Object(w.a)(u,2),p=b[0],x=b[1],g=Object(a.useState)(),C=Object(w.a)(g,2),N=C[0],M=C[1],q=Object(l.useMutation)(E),A=Object(w.a)(q,2),T=A[0],F=(A[1].data,P()),L=Object(j.g)(),$=!0,W=function(e){switch(e.target.name){case"username":c(e.target.value);break;case"pwd":d(e.target.value);break;case"lastname":M(e.target.value);break;case"firstname":x(e.target.value);break;case"pwd-confirm":$=e.target.value&&e.target.value===o}},G=function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:r,pwd:o,firstname:p,lastname:N},e.next=4,T({variables:{user:n}});case 4:a=e.sent,console.log(a),null===F||void 0===F||F.signin(a.data.token),L.push("/character-select");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(h.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(I.a,{}),Object(f.jsxs)("div",{className:e.paper,children:[Object(f.jsx)(O.a,{component:"h1",variant:"h5",children:"Cr\xe9ez votre compte"}),Object(f.jsx)("form",{className:e.form,onSubmit:G,autoComplete:"off",children:Object(f.jsxs)(m.a,{container:!0,direction:"column",children:[Object(f.jsx)(S.a,{variant:"outlined",type:"text",label:"Nom",id:"lastname",name:"lastname",margin:"normal",required:!0,fullWidth:!0,onChange:W}),Object(f.jsx)(S.a,{variant:"outlined",type:"text",label:"Pr\xe9nom",id:"firstname",name:"firstname",margin:"normal",required:!0,fullWidth:!0,onChange:W}),Object(f.jsx)(S.a,{variant:"outlined",type:"email",name:"username",id:"username",label:"Adresse email",margin:"normal",required:!0,fullWidth:!0,onChange:W}),Object(f.jsx)(S.a,{variant:"outlined",type:"password",label:"Mot de Passe",id:"pwd",name:"pwd",margin:"normal",required:!0,fullWidth:!0,onChange:W}),Object(f.jsx)(S.a,{variant:"outlined",type:"password",label:"Confirmer le Mot de Passe",id:"pwd-confirm",name:"pwd-confirm",margin:"normal",required:!0,fullWidth:!0,onChange:W,error:!$}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",color:"primary",className:e.submit,children:"Connexion"})]})})]})]})}var L=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),$=Object(l.gql)(T||(T=Object(C.a)(["\n    mutation login($user: LoginInput!) {\n        login(user: $user)\n    }\n    \n"])));function W(){var e=L(),t=Object(a.useState)(),n=Object(w.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(),s=Object(w.a)(i,2),o=s[0],d=s[1],b=Object(l.useMutation)($),p=Object(w.a)(b,2),x=p[0],g=(p[1].data,Object(j.g)()),C=Object(j.h)(),N=P(),M=(C.state||{from:{pathname:"/"}}).from;console.log(M);var q=function(e){switch(e.target.name){case"username":c(e.target.value);break;case"pwd":d(e.target.value)}},A=function(){var e=Object(y.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x({variables:{user:{username:r,pwd:o}}});case 3:n=e.sent,console.log(n.data.login),null===N||void 0===N||N.signin(n.data.login,(function(){g.replace(M)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(h.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(I.a,{}),Object(f.jsxs)("div",{className:e.paper,children:[Object(f.jsx)(O.a,{component:"h1",variant:"h5",children:"Connexion"}),Object(f.jsx)("form",{className:e.form,onSubmit:A,children:Object(f.jsxs)(m.a,{container:!0,direction:"column",children:[Object(f.jsx)(S.a,{variant:"outlined",type:"email",name:"username",id:"username",label:"Adresse email",margin:"normal",required:!0,fullWidth:!0,onChange:q}),Object(f.jsx)(S.a,{variant:"outlined",type:"password",label:"Mot de Passe",id:"pwd",name:"pwd",margin:"normal",required:!0,fullWidth:!0,onChange:q}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",color:"primary",className:e.submit,children:"Connexion"})]})}),Object(f.jsxs)(O.a,{variant:"subtitle1",children:["Pas encore de compte? ",Object(f.jsx)(u.b,{to:"/signup",children:"Cr\xe9ez en un ici!"})]})]})]})}var G,R=n(114),B=n(111),V=n(193),z=n(181),J=n(182),H=n(185),Q=n(183),U=n(184),K=Object(b.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)}}})),X=Object(N.a)(G||(G=Object(C.a)(["\n    mutation editCharacter($char: CharacterInput!) {\n        editCharacter(character: $char){\n            id\n            name\n            rank\n            skillpoints\n            health\n            attack\n            defense\n            magik\n            userId\n        }\n    }\n        \n"])));function Y(e){var t,n=Object(a.useState)(e.open),r=Object(w.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(null!==(t=e.character)&&void 0!==t?t:{name:"",skillpoints:12,health:10,attack:0,defense:0,magik:0,rank:1}),o=Object(w.a)(s,1)[0],d=Object(l.useMutation)(X),u=Object(w.a)(d,2),j=u[0],b=(u[1].data,Object(a.useState)()),h=Object(w.a)(b,2),O=h[0],p=h[1],x=Object(a.useState)(o.skillpoints),g=Object(w.a)(x,2),k=g[0],y=g[1],C=Object(a.useState)(o.health),N=Object(w.a)(C,2),M=N[0],P=N[1],q=Object(a.useState)(o.attack),A=Object(w.a)(q,2),T=A[0],D=A[1],E=Object(a.useState)(o.defense),F=Object(w.a)(E,2),L=F[0],$=F[1],W=Object(a.useState)(o.magik),G=Object(w.a)(W,2),R=G[0],B=G[1],Y=K(),Z=function(){i(!1)};Object(a.useEffect)((function(){e.open&&i(e.open)}),[e]);var _=function(e){switch(e){case"health":return{value:M,handler:P};case"attack":return{value:T,handler:D};case"defense":return{value:L,handler:$};case"magik":return{value:R,handler:B};default:return{value:0,handler:function(){console.error("Attribute not found")}}}},ee=function(e){var t=_(e),n="health"===e?1:Math.ceil((null===t||void 0===t?void 0:t.value)/5);k>0&&(0===n&&(n=1),k>=n&&t.handler((null===t||void 0===t?void 0:t.value)+1),y(k-n<0?0:k-n))},te=function(e){var t=_(e),n="health"===e?1:Math.ceil((null===t||void 0===t?void 0:t.value)/5);k<M+T+L+R+k&&(0===n&&(n=1),(t.value-1>=0||t.value-1>=o[e])&&t.handler(t.value-1),y(k+n))},ne=function(e,t){var n=_(e);if("add"===t){var a="health"===e?1:Math.ceil((null===n||void 0===n?void 0:n.value)/5);if(k<a)return!0}else if(o&&o[e]===n.value)return!0};return Object(f.jsxs)(V.a,{open:c,onClose:Z,children:[Object(f.jsx)(I.a,{}),Object(f.jsxs)(z.a,{children:[e.character?"Editer":"Cr\xe9er"," un Personnage"]}),Object(f.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault();var a={id:null!==(n=o.id)&&void 0!==n?n:void 0,name:O,health:M,attack:T,defense:L,magik:R,skillpoints:k,rank:o.rank,userId:e.userId};console.log(a),j({variables:{char:a}}),e.action(!0),i(!1)},className:Y.form,children:[Object(f.jsx)(J.a,{children:Object(f.jsxs)(m.a,{container:!0,direction:"column",justify:"center",children:[Object(f.jsx)(S.a,{name:"name",label:"Nom",id:"name",required:!0,margin:"normal",value:null===o||void 0===o?void 0:o.name,onChange:function(e){p(e.target.value)},disabled:!!(null===o||void 0===o?void 0:o.name)}),Object(f.jsx)(S.a,{name:"skillpoints",label:"Points de comp\xe9tence",id:"skillpoints",disabled:!0,value:k,margin:"normal"}),Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"row",justify:"center",children:[Object(f.jsx)(v.a,{color:"primary",onClick:function(){return te("health")},disabled:ne("health","remove"),children:Object(f.jsx)(Q.a,{})}),Object(f.jsx)(S.a,{name:"health",label:"Endurance",id:"health",disabled:!0,value:M,margin:"normal"}),Object(f.jsx)(v.a,{color:"primary",onClick:function(){return ee("health")},disabled:ne("health","add"),children:Object(f.jsx)(U.a,{})})]}),Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"row",justify:"center",children:[Object(f.jsx)(v.a,{color:"primary",onClick:function(){return te("attack")},disabled:ne("attack","remove"),children:Object(f.jsx)(Q.a,{})}),Object(f.jsx)(S.a,{name:"attack",label:"Attaque",id:"attack",disabled:!0,value:T,margin:"normal"}),Object(f.jsx)(v.a,{color:"primary",onClick:function(){return ee("attack")},disabled:ne("attack","add"),children:Object(f.jsx)(U.a,{})})]}),Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"row",justify:"center",children:[Object(f.jsx)(v.a,{color:"primary",onClick:function(){return te("defense")},disabled:ne("defense","remove"),children:Object(f.jsx)(Q.a,{})}),Object(f.jsx)(S.a,{name:"defense",label:"Defense",id:"defense",disabled:!0,value:L,margin:"normal"}),Object(f.jsx)(v.a,{color:"primary",onClick:function(){return ee("defense")},disabled:ne("defense","add"),children:Object(f.jsx)(U.a,{})})]}),Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"row",justify:"center",children:[Object(f.jsx)(v.a,{color:"primary",onClick:function(){return te("magik")},disabled:ne("magik","remove"),children:Object(f.jsx)(Q.a,{})}),Object(f.jsx)(S.a,{name:"magik",label:"Magie",id:"magik",disabled:!0,value:R,margin:"normal"}),Object(f.jsx)(v.a,{color:"primary",onClick:function(){return ee("magik")},disabled:ne("magik","add"),children:Object(f.jsx)(U.a,{})})]})]})}),Object(f.jsxs)(H.a,{children:[Object(f.jsx)(v.a,{onClick:Z,color:"primary",children:"Annuler"}),Object(f.jsx)(v.a,{type:"submit",color:"primary",children:"Valider"})]})]})]})}var Z=n(186),_=n(187);function ee(e){var t,n,a,r,c,i;return e.character?Object(f.jsx)(Z.a,{children:Object(f.jsx)(_.a,{children:Object(f.jsxs)(m.a,{container:!0,justify:"center",alignContent:"center",alignItems:"center",direction:"column",children:[Object(f.jsx)(O.a,{variant:"h5",children:null===(t=e.character)||void 0===t?void 0:t.name}),Object(f.jsxs)(O.a,{variant:"h6",children:["Niveau: ",null===(n=e.character)||void 0===n?void 0:n.rank]}),Object(f.jsxs)(O.a,{variant:"h6",children:["Endurance: ",null===(a=e.character)||void 0===a?void 0:a.health]}),Object(f.jsxs)(O.a,{variant:"h6",children:["Attaque: ",null===(r=e.character)||void 0===r?void 0:r.attack]}),Object(f.jsxs)(O.a,{variant:"h6",children:["D\xe9fense: ",null===(c=e.character)||void 0===c?void 0:c.defense]}),Object(f.jsxs)(O.a,{variant:"h6",children:["Magik: ",null===(i=e.character)||void 0===i?void 0:i.magik]})]})})}):Object(f.jsx)(f.Fragment,{})}var te,ne=n(85),ae=Object(b.a)((function(e){return{create:{color:"white",textDecoration:"none"},empty:{height:"100%"},chargrid:{padding:"1rem"},charLabel:{padding:"1rem",textAlign:"center","&:hover":{cursor:"pointer"}},disabled:{padding:"1rem",textAlign:"center",backgroundColor:"lightslategrey","&:hover":{cursor:"not-allowed"}}}})),re=Object(l.gql)(te||(te=Object(C.a)(["\n    query characters($userId: String){\n        characters(userId: $userId) {\n            name\n            rank\n            skillpoints\n            attack\n            health\n            defense\n            magik\n            id\n            lastFight\n        }\n    }\n"])));function ce(e){var t=ae(),n=Object(a.useState)(),r=Object(w.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(),o=Object(w.a)(s,2),d=o[0],j=o[1],b=Object(a.useState)(),h=Object(w.a)(b,2),O=h[0],p=h[1],x=Object(a.useState)(!1),g=Object(w.a)(x,2),k=g[0],y=g[1],C=Object(a.useState)(!1),I=Object(w.a)(C,2),S=I[0],N=I[1],M=P(),q=Object(B.a)(null===M||void 0===M?void 0:M.token).decodedToken,A=Object(l.useLazyQuery)(re),T=Object(w.a)(A,2),D=T[0],E=T[1],F=E.loading,L=E.data,$=function(e){var t=ne.DateTime.now(),n=ne.DateTime.fromMillis(parseInt(null===e||void 0===e?void 0:e.lastFight));return console.log(t.diff(n,"hours")),t.diff(n,"hours").hours>1};if(Object(a.useEffect)((function(){((null===q||void 0===q?void 0:q.id)||k)&&(p(q.id),D({variables:{userId:q.id}})),L&&(console.log("Character list:: ".concat(JSON.stringify(L))),i(L.characters))}),[q,L,D,k]),F)return Object(f.jsx)("div",{children:"loading"});var W=(null===c||void 0===c?void 0:c.length)<10;return!c||(null===c||void 0===c?void 0:c.length)<=0?Object(f.jsx)(m.a,{container:!0,direction:"row",justify:"center",className:t.empty,children:Object(f.jsx)(ie,{userId:O,action:y})}):Object(f.jsxs)(m.a,{container:!0,direction:"row",children:[Object(f.jsxs)(m.a,{container:!0,item:!0,xs:6,direction:"column",children:[null===c||void 0===c?void 0:c.map((function(e){return Object(f.jsx)(m.a,{onClick:function(){return function(e){var t=null===c||void 0===c?void 0:c.find((function(t){return t.id===e}));t&&$(t)&&j(t)}(e.id)},className:t.chargrid,children:Object(f.jsx)(R.a,{className:$(e)?t.charLabel:t.disabled,children:Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"row",justify:"space-evenly",alignItems:"center",children:[e.name," Niveau ",e.rank,e.skillpoints>0?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v.a,{onClick:function(){return N(!0)},color:"primary",variant:"outlined",children:"Monter de niveau"}),Object(f.jsx)(Y,{open:S,userId:O,action:y,character:e})]}):void 0]})})},e.id)})),W?Object(f.jsx)(ie,{userId:O,action:y}):void 0]}),Object(f.jsx)(m.a,{container:!0,item:!0,xs:6,direction:"column",alignItems:"center",justify:"center",children:d?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.a,{item:!0,container:!0,justify:"center",alignItems:"center",direction:"column",md:4,className:t.chargrid,children:Object(f.jsx)(ee,{character:d})}),Object(f.jsx)("div",{children:Object(f.jsx)(v.a,{color:"primary",variant:"contained",children:Object(f.jsx)(u.b,{to:"/arena?charId=".concat(d.id),className:t.create,children:"Entrer dans l'ar\xe8ne"})})})]}):void 0})]})}function ie(e){var t=ae(),n=Object(a.useState)(!1),r=Object(w.a)(n,2),c=r[0],i=r[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v.a,{variant:"contained",color:"primary",className:t.create,onClick:function(){i(!0)},children:"Nouveau Personnage"}),Object(f.jsx)(Y,{open:c,userId:e.userId,action:e.action})]})}var se,oe=n(188),le=n(189),de=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{textDecoration:"none",color:"white"}}}));function ue(){var e=de(),t=Object(j.g)(),n=P();return Object(f.jsx)(oe.a,{position:"static",children:Object(f.jsxs)(le.a,{children:[Object(f.jsx)(O.a,{variant:"h6",className:e.title,children:Object(f.jsx)(u.b,{to:"/",className:e.link,children:"Mon petit RPG"})}),(null===n||void 0===n?void 0:n.token)?Object(f.jsx)(v.a,{color:"inherit",onClick:function(){return n.signout((function(){return t.push("/")}))},children:"Me deconnecter"}):Object(f.jsx)(v.a,{color:"inherit",children:Object(f.jsx)(u.b,{to:"/character-select",className:e.link,children:"Me connecter"})})]})})}function je(e,t){return be.apply(this,arguments)}function be(){return(be=Object(y.a)(k.a.mark((function e(t,n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={playerId:t,opponentId:n},e.next=3,fetch("api/fight",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 3:return e.next=5,e.sent.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=Object(N.a)(se||(se=Object(C.a)(["\n    query fight($charId: String!){\n        fight(charId: $charId){\n            player{\n                id,\n                name,\n                health, \n                attack,\n                defense, \n                magik,\n                rank\n            },\n            opponent{\n                id,\n                name,\n                health, \n                attack,\n                defense, \n                magik,\n                rank\n            }\n        }\n    }\n"])));function me(){var e=new URLSearchParams(Object(j.h)().search),t=Object(j.g)(),n=e.get("charId"),r=Object(a.useState)(n),c=Object(w.a)(r,1)[0],i=Object(a.useState)(),s=Object(w.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)(),b=Object(w.a)(u,2),p=b[0],x=b[1],g=Object(l.useLazyQuery)(he),C=Object(w.a)(g,2),I=C[0],S=C[1].data,N=Object(a.useState)(),M=Object(w.a)(N,2),P=M[0],q=M[1],A=Object(a.useState)(),T=Object(w.a)(A,2),D=T[0],E=T[1],F=Object(a.useState)(!1),L=Object(w.a)(F,2),$=L[0],W=L[1],G=Object(a.useState)(!1),B=Object(w.a)(G,2),V=B[0],z=B[1];return Object(a.useEffect)((function(){c&&I({variables:{charId:c},context:{fetchPolicy:"network-only",newFecthPolicy:"cache-first"}}),S&&(console.log(S),x(S.fight.opponent),d(S.fight.player)),P&&z(!0)}),[c,S,I,P]),Object(a.useEffect)((function(){function e(){return(e=Object(y.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t,n);case 2:a=e.sent,console.log(a),q(a.reportList),E(a.winner);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$&&!V&&function(t,n){e.apply(this,arguments)}(c,null===p||void 0===p?void 0:p.id)}),[$,null===p||void 0===p?void 0:p.id,c,V]),Object(f.jsx)(h.a,{style:{padding:"1rem"},children:Object(f.jsxs)(m.a,{container:!0,direction:"column",alignItems:"center",justify:"center",children:[Object(f.jsxs)(m.a,{container:!0,item:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(f.jsxs)(m.a,{container:!0,item:!0,xs:6,direction:"row",justify:"space-evenly",alignItems:"center",style:{padding:"1rem"},children:[Object(f.jsx)(ee,{character:o}),Object(f.jsx)(O.a,{variant:"h4",children:"VS"}),Object(f.jsx)(ee,{character:p})]}),Object(f.jsx)(v.a,{color:"primary",variant:"contained",disabled:$||V,onClick:function(){W(!0)},children:"Attaquer !"})]}),Object(f.jsx)(m.a,{container:!0,item:!0,alignItems:"center",justify:"center",children:P?Object(f.jsxs)(m.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",style:{padding:"1rem"},children:[Object(f.jsx)(O.a,{variant:"h5",children:D?"VICTOIRE":"DEFAITE"}),Object(f.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){t.goBack()},style:{padding:"1rem",margin:"auto"},children:"Revenir \xe0 la selection de personnage"})]}):void 0}),Object(f.jsx)(m.a,{item:!0,container:!0,direction:"column",xs:6,justify:"space-evenly",spacing:1,children:null===P||void 0===P?void 0:P.map((function(e){return Object(f.jsx)(m.a,{item:!0,container:!0,direction:"column",justify:"center",children:Object(f.jsx)(R.a,{children:Object(f.jsxs)(m.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(f.jsxs)(O.a,{children:["Tour n\xb0 ",e.roundNumber," :"]}),Object(f.jsxs)(O.a,{children:[null===o||void 0===o?void 0:o.name," inflige ",e.player.attackValue," points de d\xe9gats"]}),Object(f.jsxs)(O.a,{children:[null===p||void 0===p?void 0:p.name," perd ",e.enemy.healthLost," points de vie"]}),Object(f.jsxs)(O.a,{children:[null===p||void 0===p?void 0:p.name," inflige ",e.enemy.attackValue," points de d\xe9gats"]}),Object(f.jsxs)(O.a,{children:[null===o||void 0===o?void 0:o.name," perd ",e.player.healthLost," points de vie"]})]})})},null===P||void 0===P?void 0:P.indexOf(e))}))})]})})}function Oe(e){var t=e.children,n=function(){var e=Object(a.useState)(sessionStorage.getItem("token")),t=Object(w.a)(e,2),n=t[0],r=t[1];return{token:n,signin:function(e,t){if(console.log(e),e)return A.signin((function(){sessionStorage.setItem("token",e),r(e),t()}))},signout:function(e){return A.signout((function(){sessionStorage.removeItem("token"),r(null),e()}))}}}();return Object(f.jsx)(M.Provider,{value:n,children:t})}function ve(e){var t=e.children,n=Object(o.a)(e,["children"]),a=P();return console.log(a),Object(f.jsx)(j.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){var n=e.location;return(null===a||void 0===a?void 0:a.token)?t:Object(f.jsx)(j.a,{to:{pathname:"/signin",state:{from:n}}})}}))}var fe=function(){var e=new l.ApolloClient({uri:"graphql",cache:new l.InMemoryCache});return Object(f.jsx)(h.a,{className:"master",children:Object(f.jsx)(d.ApolloProvider,{client:e,children:Object(f.jsx)(Oe,{children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)(ue,{}),Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:"/",children:Object(f.jsx)(x,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/signup",children:Object(f.jsx)(F,{})}),Object(f.jsx)(j.b,{exact:!0,path:"/signin",children:Object(f.jsx)(W,{})}),Object(f.jsx)(ve,{path:"/character-select",children:Object(f.jsx)(ce,{})}),Object(f.jsx)(ve,{path:"/arena",children:Object(f.jsx)(me,{})})]})]})})})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,195)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(fe,{})}),document.getElementById("root")),pe()}},[[142,1,2]]]);
//# sourceMappingURL=main.f1214e37.chunk.js.map